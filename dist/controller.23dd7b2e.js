parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"IgrY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.API_URL=exports.API_KEY=void 0;const t="9973533";exports.API_KEY=t;const e="https://www.thecocktaildb.com/api/json/v2/9973533/latest.php";exports.API_URL=e;
},{}],"cZJ3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./config.js");function e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class r{constructor(){e(this,"_parentContainer",document.querySelector(".img-carousel-container")),e(this,"_data",void 0),e(this,"_currentImg",0),e(this,"_dotContainer",document.querySelector(".img-dots")),e(this,"_drinkInfo",void 0)}async renderResults(t){this._data=t,await this.generateMarkup(),this.handleCarousel()}clearHTML(){this._parentContainer.innerHTML=""}generateMarkup(){this._data.allImgs.map((t,e)=>{const r=`\n          <div data-drink-id="${t.idDrink}" class="carousel-title-wrapper"><h4 class="carousel-title">${t.strDrink}</h4></div>\n          <img class="img-cocktail" data-index="${e}" src="${t.strDrinkThumb}" alt="${t.strDrink} thumbnail" />\n          `;this.renderHTML(r),this.insertDot(e)}),this.setActiveDot()}insertDot(t){const e=`\n        <div data-index="${t}" class="dot"></div>\n      `;this._dotContainer.insertAdjacentHTML("beforeend",e)}renderHTML(t){this._parentContainer.insertAdjacentHTML("beforeend",t)}handleCarousel(){const t=document.querySelectorAll(".img-cocktail"),e=document.querySelectorAll(".carousel-title-wrapper");t.forEach((t,e)=>{t.style.transform=`translateX(${100*(e-this._currentImg)}%)`}),e.forEach((t,e)=>{t.style.transform=`translateX(${-200*(e-this._currentImg)}%)`})}handleCarouselClick(t){if(t.target.closest("button")){const e=Number(t.target.closest("button").dataset.value);if(this._currentImg<=0&&-1===e||this._currentImg>=this._data.allImgs.length-1&&1===e)return console.log("Can't Do that!");this.scrollCarousel(e)}else if(t.target.closest(".dot")){const e=t.target.dataset.index;this.scrollCarouselTo(e)}else{if(!t.target.closest(".carousel-title-wrapper"))return;{const e=t.target.closest(".carousel-title-wrapper").dataset.drinkId;this.toggleModal(e)}}}scrollCarousel(t){this._currentImg+=t,console.log(this._currentImg);const e=document.querySelectorAll(".img-cocktail"),r=document.querySelectorAll(".carousel-title-wrapper");e.forEach((t,e)=>{t.style.transform=`translateX(${100*(e-this._currentImg)}%)`}),r.forEach((t,e)=>{t.style.transform=`translateX(${-200*(e-this._currentImg)}%)`}),this.setActiveDot()}scrollCarouselTo(t){const e=document.querySelectorAll(".img-cocktail"),r=document.querySelectorAll(".carousel-title-wrapper");this._currentImg=Number(t),e.forEach((t,e)=>{t.style.transform=`translateX(${100*(e-this._currentImg)}%)`}),r.forEach((t,e)=>{t.style.transform=`translateX(${-200*(e-this._currentImg)}%)`}),this.setActiveDot()}setActiveDot(){const t=document.querySelectorAll(".dot"),e=Number(this._currentImg);t.forEach((t,r)=>{t.classList.remove("active"),e===r&&t.classList.add("active")})}async toggleModal(t){await this.fetchDrinkInfo(t)}async fetchDrinkInfo(e){const r=`https://www.thecocktaildb.com/api/json/v2/${t.API_KEY}/lookup.php?i=`;try{console.log(`url: ${r}${e}`);const t=await fetch(`${r}${e}`),{drinks:a}=await t.json(),n=a[0],o={id:e,name:n.strDrink,img:n.strDrinkThumb,instructions:n.strInstructions};console.log(o),this._drinkInfo=o,this.populateModal()}catch(s){console.log("Could not find that drink")}}populateModal(){document.querySelector(".modal-wrapper").classList.add("active");const t=document.querySelector(".modal"),e=`\n    <i class="far fa-times-circle"></i>\n    <h4 class="header">${this._drinkInfo.name}</h4>\n    <div class="img-box">\n      <img src="${this._drinkInfo.img}" alt="${this._drinkInfo.name} Thumbnail">\n    </div>\n    <p class="instructions">${this._drinkInfo.instructions}</p>`;t.insertAdjacentHTML("beforeend",e)}closeModal(t){(t.target.classList.contains("overlay")||t.target.closest(".fa-times-circle"))&&(document.querySelector(".modal").innerHTML="",document.querySelector(".modal-wrapper").classList.remove("active"))}addEventHandlers(){document.querySelectorAll(".page-btn").forEach(t=>{t.addEventListener("click",this.changePage.bind(this))})}}var s=new r;exports.default=s;
},{"./config.js":"IgrY"}],"rCla":[function(require,module,exports) {
"use strict";function t(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(){t(this,"state",{allImgs:null,index:1,totalImgs:1})}async loadResults(t){console.log(t);try{const s=await fetch(t);if(!s.ok)return new Error("Oops! Could not find your drinks.");const{drinks:o}=await s.json();this.state.allImgs=o,this.state.totalImgs=Math.ceil(this.state.allImgs.length),console.log(`Total Images: ${this.state.totalImgs}`)}catch(e){console.error(`Oops! ${e.message}`)}}}var s=new e;exports.default=s;
},{}],"DRAJ":[function(require,module,exports) {
"use strict";var e=require("./config.js"),t=d(require("./view.js")),a=d(require("./model.js"));function d(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",async()=>{await a.default.loadResults(e.API_URL),await t.default.renderResults(a.default.state),document.querySelector(".img-carousel-container").addEventListener("click",t.default.handleCarouselClick.bind(t.default)),document.querySelector(".modal-wrapper").addEventListener("click",t.default.closeModal)});
},{"./config.js":"IgrY","./view.js":"cZJ3","./model.js":"rCla"}]},{},["DRAJ"], null)
//# sourceMappingURL=/controller.23dd7b2e.js.map