{"version":3,"sources":["js/drinks/config.js","js/drinks/view.js","js/drinks/model.js","js/drinks/controller.js"],"names":["API_KEY","API_URL","RES_PER_PAGE","View","document","querySelector","data","_data","paginatedResults","paginateResults","clearHTML","generateMarkup","renderPageBtns","addEventHandlers","trimStart","page","trimEnd","results","allData","slice","_parentContainer","innerHTML","map","drink","markup","idDrink","strDrinkThumb","strDrink","renderHTML","html","insertAdjacentHTML","totalPages","e","direction","Number","target","dataset","turnPage","renderResults","querySelectorAll","forEach","btn","addEventListener","changePage","bind","closest","id","toggleModal","fetchDrinkInfo","populateModal","fetch","url","console","log","res","json","drinks","name","img","instructions","strInstructions","_drinkInfo","classList","add","modal","contains","remove","Data","category","Error","state","Math","ceil","length","error","message","model","value","loadResults","view","selection","handleCarouselClick","closeModal"],"mappings":"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","file":"controller.04d98069.js","sourceRoot":"..","sourcesContent":["export const API_KEY = '9973533'; // PERSONAL API_KEY FROM PATREON\r\n// const API_KEY = '1'; TEST API KEY\r\n// const API_URL = `http://www.thecocktaildb.com/api/json/v1/${API_KEY}/search.php?s=margarita`;\r\nexport const API_URL = `http://www.thecocktaildb.com/api/json/v2/${API_KEY}/filter.php?c=`;\r\nexport const RES_PER_PAGE = 6;","import { RES_PER_PAGE, API_KEY } from './config.js';\r\n\r\nclass View {\r\n  _parentContainer = document.querySelector('#drinks-container');\r\n  _data;\r\n  _drinkInfo;\r\n\r\n  renderResults(data) {\r\n    this._data = data;\r\n    // console.log(this._data);\r\n    const paginatedResults = this.paginateResults(this._data);\r\n\r\n    this.clearHTML();\r\n    \r\n    this.generateMarkup(paginatedResults);\r\n\r\n    this.renderPageBtns();\r\n\r\n    this.addEventHandlers();\r\n    return;\r\n  }\r\n\r\n  paginateResults(data) {\r\n    const trimStart = (data.page - 1) * RES_PER_PAGE;\r\n    const trimEnd = trimStart + RES_PER_PAGE;\r\n    const results = data.allData.slice(trimStart, trimEnd);\r\n\r\n    return results;\r\n  }\r\n\r\n  clearHTML() {\r\n    this._parentContainer.innerHTML = '';\r\n  }\r\n\r\n  generateMarkup(results) {\r\n    results.map(drink => {\r\n      const markup = `\r\n        <div class=\"card card-cocktail\" data-id=\"${drink.idDrink}\">\r\n          <img class=\"img-cocktail\" src=\"${drink.strDrinkThumb}\" alt=\"${drink.strDrink} thumbnail\" />\r\n          <h3 class=\"tab-cocktail\">${drink.strDrink}</h2>\r\n        </div>\r\n      `\r\n      this.renderHTML(markup);\r\n    })\r\n  }\r\n\r\n  renderHTML(html) {\r\n    this._parentContainer.insertAdjacentHTML('beforeend', html);\r\n  }\r\n\r\n  renderPageBtns() {\r\n    let html;\r\n    \r\n    // if on 1st with no others\r\n    if (+this._data.totalPages === 1) {\r\n      html = `\r\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\r\n      `\r\n    }\r\n\r\n    // if on 1st page of multiple pages\r\n    if (+this._data.totalPages > 1 && +this._data.page === 1) {\r\n      html = `\r\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\r\n        <button data-turn-page=\"1\" type=\"button\" class=\"page-btn\">Page ${+this._data.page + 1} ></button>\r\n      `\r\n    }\r\n\r\n    // has pages before and after\r\n    if (+this._data.totalPages > 1 && +this._data.page > 1 && +this._data.page < +this._data.totalPages) {\r\n      html = `\r\n        <button data-turn-page=\"-1\" type=\"button\" class=\"page-btn\">< Page ${+this._data.page - 1}</button>\r\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\r\n        <button data-turn-page=\"1\" type=\"button\" class=\"page-btn\">Page ${+this._data.page + 1} ></button>\r\n      `\r\n    }\r\n\r\n    // if on last page of multiple pages\r\n    if (+this._data.totalPages === +this._data.page) {\r\n      html = `\r\n        <button data-turn-page=\"-1\" type=\"button\" class=\"page-btn\">< Page ${+this._data.page - 1}</button>\r\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\r\n      `\r\n    }\r\n    document.querySelector('.page-btn-container').innerHTML = html;\r\n  }\r\n\r\n  changePage(e) {\r\n    const direction = Number(e.target.dataset.turnPage);\r\n    this._data.page += direction;\r\n    this.renderResults(this._data);\r\n  }\r\n\r\n  addEventHandlers() {\r\n    const btns = document.querySelectorAll('.page-btn');\r\n\r\n    btns.forEach(btn => {\r\n      btn.addEventListener('click', this.changePage.bind(this));\r\n    })\r\n  }\r\n\r\n  handleCarouselClick(e) {\r\n    if (e.target.closest('.card-cocktail')) {\r\n      const id = Number(e.target.closest('.card-cocktail').dataset.id);\r\n      this.toggleModal(id);\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n    // I know this is not supposed to be in the View... :(\r\n      async toggleModal(id) {\r\n        await this.fetchDrinkInfo(id);\r\n        this.populateModal();\r\n      }\r\n    \r\n      async fetchDrinkInfo(id) {\r\n        const url = `https://www.thecocktaildb.com/api/json/v2/${API_KEY}/lookup.php?i=`;\r\n        try {\r\n          console.log(`url: ${url}${id}`);\r\n          const res = await fetch(`${url}${id}`);\r\n          const {drinks} = await res.json();\r\n          const data = drinks[0];\r\n          const drink = {\r\n            id: id,\r\n            name: data.strDrink,\r\n            img: data.strDrinkThumb,\r\n            instructions: data.strInstructions\r\n          };\r\n          console.log(drink);\r\n          this._drinkInfo = drink;\r\n        } catch(e) {\r\n          console.log('Could not find that drink');\r\n        }\r\n      }\r\n    \r\n      populateModal() {\r\n        document.querySelector('.modal-wrapper').classList.add('active');\r\n        const modal = document.querySelector('.modal');\r\n        const html = `\r\n        <i class=\"far fa-times-circle\"></i>\r\n        <h4 class=\"header\">${this._drinkInfo.name}</h4>\r\n        <div class=\"img-box\">\r\n          <img src=\"${this._drinkInfo.img}\" alt=\"${this._drinkInfo.name} Thumbnail\">\r\n        </div>\r\n        <p class=\"instructions\">${this._drinkInfo.instructions}</p>`;\r\n        modal.insertAdjacentHTML('beforeend', html);\r\n      }\r\n    \r\n      closeModal(e) {\r\n        if (e.target.classList.contains('overlay') ||\r\n            e.target.closest('.fa-times-circle')) {\r\n          document.querySelector('.modal').innerHTML = '';\r\n          document.querySelector('.modal-wrapper').classList.remove('active');\r\n        }\r\n      }\r\n\r\n}\r\n\r\nexport default new View();","import { RES_PER_PAGE } from './config.js';\r\n\r\nclass Data {\r\n\r\n  state = {\r\n    allData: null,\r\n    page: 1,\r\n    totalPages: 1\r\n  }\r\n\r\n  async loadResults(url, category) {\r\n    try {\r\n      const res = await fetch(url + category);\r\n      if (!res) return new Error('Oops! Could not find your drinks.');\r\n      const {drinks} = await res.json();\r\n      this.state.allData = drinks;\r\n      this.state.totalPages = Math.ceil(this.state.allData.length / RES_PER_PAGE);\r\n      console.log(`Total Pages: ${this.state.totalPages}`);\r\n    } catch (e) {\r\n      console.error(`Oops! ${e.message}`);\r\n    }\r\n  }\r\n\r\n  pagination() {\r\n    const trimStart = (this.state.page - 1) * RES_PER_PAGE;\r\n    const trimEnd = trimStart + RES_PER_PAGE;\r\n    const results = this.state.allData.slice(trimStart, trimEnd);\r\n\r\n    return results;\r\n  }\r\n\r\n  // changePage(val) {\r\n  //   this.state.page += val;\r\n  //   view.renderProducts(this.getProducts, API_URL);\r\n  // }\r\n\r\n}\r\n\r\nexport default new Data();","import { API_URL } from './config.js';\r\nimport view from './view.js';\r\nimport model from './model.js';\r\n\r\n// const testCategory = 'Coffee / Tea';\r\n\r\n// CONTROLLER\r\ndocument.addEventListener('DOMContentLoaded', async () => {\r\n\t// GET INITIAL PRODUCTS\r\n\tconst category = document.querySelector('#category-selector').value;\r\n\r\n\tawait model.loadResults(API_URL, category);\r\n\r\n\tawait view.renderResults(model.state);\r\n\r\n\t// EVENT LISTENERS\r\n\tdocument.querySelector('#category-selector').addEventListener('change', async (e) => {\r\n\t\tconst selection = e.target.value;\r\n\r\n\t\tawait model.loadResults(API_URL, selection);\r\n\r\n\t\tmodel.state.page = 1;\r\n\r\n\t\t// switch(selection) {\r\n\t\t// \tcase 'Cocktail':\r\n\t\t// \t\tdocument.querySelector('.drink-wrapper').style.backgroundColor = 'palegreen';\r\n\t\t// \t\tbreak;\r\n\t\t// \tcase 'Ordinary Drink':\r\n\t\t// \t\tdocument.querySelector('.drink-wrapper').style.backgroundColor = 'paleTurquoise';\r\n\t\t// \t\tbreak;\r\n\t\t// \tcase 'Milk / Float / Shake':\r\n\t\t// \t\tdocument.querySelector('.drink-wrapper').style.backgroundColor = 'lightpink';\r\n\t\t// \t\tbreak;\r\n\t\t// }\r\n\r\n\t\tawait view.renderResults(model.state);\r\n\t});\r\n\t\r\n\tdocument.querySelector('#drinks-container').addEventListener('click', view.handleCarouselClick.bind(view));\r\n\tdocument.querySelector('.modal-wrapper').addEventListener('click', view.closeModal);\r\n});"]}