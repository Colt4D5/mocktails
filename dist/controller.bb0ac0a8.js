parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"GWDQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RES_PER_PAGE=exports.API_URL=exports.API_KEY=void 0;const t="9973533";exports.API_KEY=t;const e="http://www.thecocktaildb.com/api/json/v2/9973533/filter.php?c=";exports.API_URL=e;const o=6;exports.RES_PER_PAGE=6;
},{}],"Am0I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./config.js");function a(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}class e{constructor(){a(this,"_parentContainer",document.querySelector("#drinks-container")),a(this,"_data",void 0),a(this,"_drinkInfo",void 0)}renderResults(t){this._data=t;const a=this.paginateResults(this._data);this.clearHTML(),this.generateMarkup(a),this.renderPageBtns(),this.addEventHandlers()}paginateResults(a){const e=(a.page-1)*t.RES_PER_PAGE,n=e+t.RES_PER_PAGE;return a.allData.slice(e,n)}clearHTML(){this._parentContainer.innerHTML=""}generateMarkup(t){t.map(t=>{const a=`\n        <div class="card card-cocktail" data-id="${t.idDrink}">\n          <img class="img-cocktail" src="${t.strDrinkThumb}" alt="${t.strDrink} thumbnail" />\n          <h3 class="tab-cocktail">${t.strDrink}</h2>\n        </div>\n      `;this.renderHTML(a)})}renderHTML(t){this._parentContainer.insertAdjacentHTML("beforeend",t)}renderPageBtns(){let t;1==+this._data.totalPages&&(t=`\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\n      `),+this._data.totalPages>1&&1==+this._data.page&&(t=`\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\n        <button data-turn-page="1" type="button" class="page-btn">Page ${+this._data.page+1} ></button>\n      `),+this._data.totalPages>1&&+this._data.page>1&&+this._data.page<+this._data.totalPages&&(t=`\n        <button data-turn-page="-1" type="button" class="page-btn">< Page ${+this._data.page-1}</button>\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\n        <button data-turn-page="1" type="button" class="page-btn">Page ${+this._data.page+1} ></button>\n      `),+this._data.totalPages==+this._data.page&&(t=`\n        <button data-turn-page="-1" type="button" class="page-btn">< Page ${+this._data.page-1}</button>\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\n      `),document.querySelector(".page-btn-container").innerHTML=t}changePage(t){const a=Number(t.target.dataset.turnPage);this._data.page+=a,this.renderResults(this._data)}addEventHandlers(){document.querySelectorAll(".page-btn").forEach(t=>{t.addEventListener("click",this.changePage.bind(this))})}handleCarouselClick(t){if(t.target.closest(".card-cocktail")){const a=Number(t.target.closest(".card-cocktail").dataset.id);this.toggleModal(a)}}async toggleModal(t){await this.fetchDrinkInfo(t),this.populateModal()}async fetchDrinkInfo(a){const e=`https://www.thecocktaildb.com/api/json/v2/${t.API_KEY}/lookup.php?i=`;try{console.log(`url: ${e}${a}`);const t=await fetch(`${e}${a}`),{drinks:s}=await t.json(),i=s[0],r={id:a,name:i.strDrink,img:i.strDrinkThumb,instructions:i.strInstructions};console.log(r),this._drinkInfo=r}catch(n){console.log("Could not find that drink")}}populateModal(){document.querySelector(".modal-wrapper").classList.add("active");const t=document.querySelector(".modal"),a=`\n        <i class="far fa-times-circle"></i>\n        <h4 class="header">${this._drinkInfo.name}</h4>\n        <div class="img-box">\n          <img src="${this._drinkInfo.img}" alt="${this._drinkInfo.name} Thumbnail">\n        </div>\n        <p class="instructions">${this._drinkInfo.instructions}</p>`;t.insertAdjacentHTML("beforeend",a)}closeModal(t){(t.target.classList.contains("overlay")||t.target.closest(".fa-times-circle"))&&(document.querySelector(".modal").innerHTML="",document.querySelector(".modal-wrapper").classList.remove("active"))}}var n=new e;exports.default=n;
},{"./config.js":"GWDQ"}],"IrdV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./config.js");function e(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class a{constructor(){e(this,"state",{allData:null,page:1,totalPages:1})}async loadResults(e,a){try{const o=await fetch(e+a);if(!o)return new Error("Oops! Could not find your drinks.");const{drinks:r}=await o.json();this.state.allData=r,this.state.totalPages=Math.ceil(this.state.allData.length/t.RES_PER_PAGE),console.log(`Total Pages: ${this.state.totalPages}`)}catch(s){console.error(`Oops! ${s.message}`)}}pagination(){const e=(this.state.page-1)*t.RES_PER_PAGE,a=e+t.RES_PER_PAGE;return this.state.allData.slice(e,a)}}var s=new a;exports.default=s;
},{"./config.js":"GWDQ"}],"kkEb":[function(require,module,exports) {
"use strict";var e=require("./config.js"),t=d(require("./view.js")),a=d(require("./model.js"));function d(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",async()=>{const d=document.querySelector("#category-selector").value;await a.default.loadResults(e.API_URL,d),await t.default.renderResults(a.default.state),document.querySelector("#category-selector").addEventListener("change",async d=>{const r=d.target.value;await a.default.loadResults(e.API_URL,r),a.default.state.page=1,await t.default.renderResults(a.default.state)}),document.querySelector("#drinks-container").addEventListener("click",t.default.handleCarouselClick.bind(t.default)),document.querySelector(".modal-wrapper").addEventListener("click",t.default.closeModal)});
},{"./config.js":"GWDQ","./view.js":"Am0I","./model.js":"IrdV"}]},{},["kkEb"], null)
//# sourceMappingURL=/controller.bb0ac0a8.js.map