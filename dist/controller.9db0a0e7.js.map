{"version":3,"sources":["js/drinks/config.js","js/drinks/view.js","js/drinks/model.js","js/drinks/controller.js"],"names":["API_KEY","API_URL","RES_PER_PAGE","View","document","querySelector","renderResults","data","_data","paginatedResults","paginateResults","value","clearHTML","generateMarkup","renderPageBtns","addEventHandlers","trimStart","page","trimEnd","results","allData","slice","_parentContainer","innerHTML","map","drink","markup","idDrink","strDrinkThumb","strDrink","renderHTML","html","insertAdjacentHTML","Math","ceil","totalPages","changePage","e","direction","Number","target","dataset","turnPage","btns","querySelectorAll","forEach","btn","addEventListener","bind","handleCarouselClick","closest","id","toggleModal","fetchDrinkInfo","populateModal","url","console","log","res","fetch","drinks","json","name","img","instructions","strInstructions","_drinkInfo","classList","add","modal","closeModal","contains","remove","searchQuery","_query","searchItems","filter","toLowerCase","includes","length","_page","Data","loadResults","category","Error","state","error","message","pagination","model","view","selection"],"mappings":";;AGAA;;AACA;;AHDO,AGEP,MHFaA,OAAO,GAAG,SAAhB,EAA2B;AAClC,AEDA,ADAA;ADEA;;AGEA;AHDO,AGGP,ADJA,ADAA,MDCaC,AEDPgF,ADAA9E,ICAN,ADAA,CCAW,ADAA,EDCS,GAAI,6CAA4CH,OAAQ,gBAArE;AGIPI,ADLW,ADAA,QEKH,CAAC2C,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AHHnD,AGIN,ADNU,ADAA,MDEE7C,YAAY,GAAG,CAArB,aEAG,WDDWE,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CADV;AEOV,ADJGe,MAAAA,ECIG+D,KDJI,EAAE,CCIE,GAAG/E,ADLR,QCKgB,CAACC,aAAT,CAAuB,oBAAvB,EAA6CM,KAA9D;AAEA,ADLGM,ADJO,MCIPA,ECKGwE,EDLC,EAAE,CAFA,UCOGP,WAAN,CAAkBjF,eAAlB,EAA2BkF,QAA3B,CAAN;AAEA,ADNGhD,MAAAA,ECMGuD,QDNO,EAAE,ICMJpF,aAAL,CAAmBmF,eAAMJ,KAAzB,CAAN,CANyD,CAQzD;ADXS,ADFC,KCAA;ACcVjF,ADdU,ECcVA,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6C0C,gBAA7C,CAA8D,QAA9D,EAAwE,MAAOV,CAAP,IAAa;AACpF,AFfS,UEeHsD,SAAS,GAAGtD,CAAC,CAACG,MAAF,CAAS7B,KAA3B;AAEA,ADTiB,ADRR,QCQHuE,ECSAO,SDTW,CAAClC,GAAD,ECSL2B,ADTWC,QAAN,EAAgB,CCS3B,CAAkBlF,eAAlB,EAA2B0F,SAA3B,CAAN;AAEAF,ADVE,QAAI,WCUAJ,KAAN,CAAYpE,IAAZ,GAAmB,CAAnB,CALoF,CAOpF;AACA,ADZI,ADJJX,EAAAA,UCIUoD,GAAG,ADJA,CAACnD,ECIE,EDJH,EAAO,ECIEoD,KAAK,CAACJ,GAAG,GAAG4B,QAAP,CAAvB;ACaJ,ADZI,ADJF,SAAK3E,CCIC,CAACkD,GAAL,ADJF,ECIY,CDJCnD,IAAb,CADkB,CCKC,ADHnB,ICGuB6E,KAAJ,CAAU,mCAAV,CAAP;ACad,ADZI,YAAM;ACaV,ADbWxB,ADHT,QCGSA,EDHHnD,gBAAgB,GAAG,KAAKC,eAAL,EAAzB;AEiBF,ADdU,ADDRN,IAAAA,MCCmB,EDDX,CAACC,GCCgBqD,GAAG,CAACG,IAAJ,EAAvB,ADDF,CAAuB,aAAvB,EAAsClD,KAAtC,GAA8C,EAA9C;AEgBF,ADdI,ADAF,SAAKC,ECAEyE,KAAL,CAAWjE,CDAb,MCAE,GAAqBwC,MAArB;ACeJ,ADdI,ADCF,SAAK/C,ECDEwE,KAAL,CAAWlD,MDCb,CAAoB1B,GCDlB,GAAwBwB,IAAI,CAACC,IAAL,CAAU,ADCpC,KCDyCmD,KAAL,CAAWjE,OAAX,CAAmB2D,MAAnB,GAA4B7E,oBAAtC,CAAxB;ACeJ,ADdIsD,ADEF,MCFEA,GDEG1C,ICFI,CAAC2C,GAAR,CAAa,KDEf,WCF8B,KAAK4B,KAAL,CAAWlD,UAAW,EAAlD;ACeJ,ADdG,ADGD,KCVA,CAOE,GDGGpB,ICHIsB,CAAP,EAAU,SDGZ;AEYF,ADdImB,ADGH,MCHGA,OAAO,CAAC8B,KAAR,CAAe,SAAQjD,CAAC,CAACkD,OAAQ,EAAjC;AACD;ACeH,ADdC,ADGD7E,EAAAA,QEWMgF,OFXS,CAACnF,IAAD,EEWJD,AFXW,aEWhB,CAAmBmF,eAAMJ,KAAzB,CAAN;AACA,AFXE,GETH,KFSO,CAAC9E,IAAL,EAAW;AEadH,ADfCoF,ADGI,EEYLpF,ADfCoF,QCeO,CAACnF,CDfE,ADGAW,GCHG,MDGM,GEYpB,AFZuB,CEYA,AFZC,KAAKR,KAAL,CAAWS,IAAX,GAAkB,CEY1C,AFZuB,EEYqB8B,EFZG7C,cEY/C,CAA6D,KFZxD,EEYL,EAAsEwF,cAAKzC,mBAAL,CAAyBD,IAAzB,CAA8B0C,aAA9B,CAAtE;AACAtF,ADfG,ADGE,EEYLA,QAAQ,ADfCY,CCeAX,CFZEa,OCHO,ADGA,GCHG,ADGAF,CCHC,CCetB,CAAuB,GDfIqE,GDGG,ECHR,CAAWpE,ADGAf,ICHX,GCetB,ADfwC,CAAnB,CCeoB6C,GDfI7C,QDGxC,KEYL,CAA0D,MDfvD,CCeH,EAAmEwF,cAAKpB,UAAxE;AACAlE,ADfG,ECeHA,QAAQ,ADfCc,CCeAb,MDfO,GAAGW,ICenB,CAAuB,IDfK,GAAGd,MCe/B,EAAsC6C,YDfn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","file":"controller.9db0a0e7.js","sourceRoot":"..","sourcesContent":["export const API_KEY = '9973533'; // PERSONAL API_KEY FROM PATREON\r\n// const API_KEY = '1'; TEST API KEY\r\n// const API_URL = `http://www.thecocktaildb.com/api/json/v1/${API_KEY}/search.php?s=margarita`;\r\nexport const API_URL = `https://www.thecocktaildb.com/api/json/v2/${API_KEY}/filter.php?c=`;\r\nexport const RES_PER_PAGE = 6;","import { RES_PER_PAGE, API_KEY } from './config.js';\r\n\r\nclass View {\r\n  _parentContainer = document.querySelector('#drinks-container');\r\n  _data;\r\n  _drinkInfo;\r\n  _query;\r\n\r\n  renderResults(data) {\r\n    this._data = data;\r\n    // console.log(this._data);\r\n    const paginatedResults = this.paginateResults();\r\n\r\n    document.querySelector('#search-bar').value = '';\r\n\r\n    this.clearHTML();\r\n    \r\n    this.generateMarkup(paginatedResults);\r\n\r\n    this.renderPageBtns();\r\n\r\n    this.addEventHandlers();\r\n  }\r\n\r\n  paginateResults(data) {\r\n    if (!data) {\r\n      const trimStart = (this._data.page - 1) * RES_PER_PAGE;\r\n      const trimEnd = trimStart + RES_PER_PAGE;\r\n      const results = this._data.allData.slice(trimStart, trimEnd);\r\n  \r\n      return results;\r\n    } else {\r\n      const trimStart = (this._data.page - 1) * RES_PER_PAGE;\r\n      const trimEnd = trimStart + RES_PER_PAGE;\r\n      const results = data.slice(trimStart, trimEnd);\r\n  \r\n      return results;\r\n    }\r\n  }\r\n\r\n  clearHTML() {\r\n    this._parentContainer.innerHTML = '';\r\n  }\r\n\r\n  generateMarkup(results) {\r\n    results.map(drink => {\r\n      const markup = `\r\n        <div class=\"card card-cocktail\" data-id=\"${drink.idDrink}\">\r\n          <img class=\"img-cocktail\" src=\"${drink.strDrinkThumb}\" alt=\"${drink.strDrink} thumbnail\" />\r\n          <h3 class=\"tab-cocktail\">${drink.strDrink}</h2>\r\n        </div>\r\n      `\r\n      this.renderHTML(markup);\r\n    })\r\n  }\r\n\r\n  renderHTML(html) {\r\n    this._parentContainer.insertAdjacentHTML('beforeend', html);\r\n  }\r\n\r\n  renderPageBtns() {\r\n    this._data.page = Math.ceil(this._data.page);\r\n\r\n    let html;\r\n\r\n    // if on last page of multiple pages\r\n    if (+this._data.totalPages === +this._data.page) {\r\n      html = `\r\n        <button data-turn-page=\"-1\" type=\"button\" class=\"page-btn\"><i class=\"fas fa-arrow-left\"></i> Page ${+this._data.page - 1}</button>\r\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\r\n      `\r\n    }\r\n    \r\n    // if on 1st with no others\r\n    if (+this._data.totalPages === 1) {\r\n      html = `\r\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\r\n      `\r\n    }\r\n\r\n    // if on 1st page of multiple pages\r\n    if (+this._data.totalPages > 1 && +this._data.page === 1) {\r\n      html = `\r\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\r\n        <button data-turn-page=\"1\" type=\"button\" class=\"page-btn\">Page ${+this._data.page + 1} <i class=\"fas fa-arrow-right\"></i></button>\r\n      `\r\n    }\r\n\r\n    // has pages before and after\r\n    if (+this._data.totalPages > 1 && +this._data.page > 1 && +this._data.page < +this._data.totalPages) {\r\n      html = `\r\n        <button data-turn-page=\"-1\" type=\"button\" class=\"page-btn\"><i class=\"fas fa-arrow-left\"></i> Page ${+this._data.page - 1}</button>\r\n        <span>Page ${this._data.page} of ${this._data.totalPages}</span>\r\n        <button data-turn-page=\"1\" type=\"button\" class=\"page-btn\">Page ${+this._data.page + 1} <i class=\"fas fa-arrow-right\"></i></button>\r\n      `\r\n    }\r\n\r\n    document.querySelector('.page-btn-container').innerHTML = html;\r\n  }\r\n\r\n  changePage(e) {\r\n    const direction = Number(e.target.dataset.turnPage);\r\n    this._data.page += direction;\r\n    this.renderResults(this._data);\r\n  }\r\n\r\n  addEventHandlers() {\r\n    const btns = document.querySelectorAll('.page-btn');\r\n\r\n    btns.forEach(btn => {\r\n      btn.addEventListener('click', this.changePage.bind(this));\r\n    })\r\n  }\r\n\r\n  handleCarouselClick(e) {\r\n    if (e.target.closest('.card-cocktail')) {\r\n      const id = Number(e.target.closest('.card-cocktail').dataset.id);\r\n      this.toggleModal(id);\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n    // I know this is not supposed to be in the View... :(\r\n      async toggleModal(id) {\r\n        await this.fetchDrinkInfo(id);\r\n        this.populateModal();\r\n      }\r\n    \r\n      async fetchDrinkInfo(id) {\r\n        const url = `https://www.thecocktaildb.com/api/json/v2/${API_KEY}/lookup.php?i=`;\r\n        try {\r\n          console.log(`url: ${url}${id}`);\r\n          const res = await fetch(`${url}${id}`);\r\n          const {drinks} = await res.json();\r\n          const data = drinks[0];\r\n          const drink = {\r\n            id: id,\r\n            name: data.strDrink,\r\n            img: data.strDrinkThumb,\r\n            instructions: data.strInstructions\r\n          };\r\n          console.log(drink);\r\n          this._drinkInfo = drink;\r\n        } catch(e) {\r\n          console.log('Could not find that drink');\r\n        }\r\n      }\r\n    \r\n      populateModal() {\r\n        document.querySelector('.modal-wrapper').classList.add('active');\r\n        const modal = document.querySelector('.modal');\r\n        const html = `\r\n        <i class=\"far fa-times-circle\"></i>\r\n        <h4 class=\"header\">${this._drinkInfo.name}</h4>\r\n        <div class=\"img-box\">\r\n          <img src=\"${this._drinkInfo.img}\" alt=\"${this._drinkInfo.name} Thumbnail\">\r\n        </div>\r\n        <p class=\"instructions\">${this._drinkInfo.instructions}</p>`;\r\n        modal.insertAdjacentHTML('beforeend', html);\r\n      }\r\n    \r\n      closeModal(e) {\r\n        if (e.target.classList.contains('overlay') ||\r\n            e.target.closest('.fa-times-circle')) {\r\n          document.querySelector('.modal').innerHTML = '';\r\n          document.querySelector('.modal-wrapper').classList.remove('active');\r\n        }\r\n      }\r\n\r\n      searchQuery(e) {\r\n        this._query = e.target.value;\r\n\r\n        console.log(this._data);\r\n\r\n        const searchItems = this._data.allData.filter(drink => drink.strDrink.toLowerCase().includes(this._query.toLowerCase()));\r\n        \r\n        this._data.totalPages = Math.ceil(searchItems.length / RES_PER_PAGE);\r\n        this._page = 1;\r\n\r\n        const paginatedResults = this.paginateResults(searchItems);\r\n        console.log(paginatedResults);\r\n\r\n\r\n        this.clearHTML();\r\n        \r\n        this.generateMarkup(paginatedResults);\r\n\r\n        this.renderPageBtns();\r\n\r\n        this.addEventHandlers();\r\n      }\r\n\r\n}\r\n\r\nexport default new View();","import { RES_PER_PAGE } from './config.js';\r\n\r\nclass Data {\r\n\r\n  state = {\r\n    allData: null,\r\n    page: 1,\r\n    totalPages: 1\r\n  }\r\n\r\n  async loadResults(url, category) {\r\n    try {\r\n      const res = await fetch(url + category);\r\n      if (!res) return new Error('Oops! Could not find your drinks.');\r\n      const {drinks} = await res.json();\r\n      this.state.allData = drinks;\r\n      this.state.totalPages = Math.ceil(this.state.allData.length / RES_PER_PAGE);\r\n      console.log(`Total Pages: ${this.state.totalPages}`);\r\n    } catch (e) {\r\n      console.error(`Oops! ${e.message}`);\r\n    }\r\n  }\r\n\r\n  pagination() {\r\n    const trimStart = (this.state.page - 1) * RES_PER_PAGE;\r\n    const trimEnd = trimStart + RES_PER_PAGE;\r\n    const results = this.state.allData.slice(trimStart, trimEnd);\r\n\r\n    return results;\r\n  }\r\n\r\n  // changePage(val) {\r\n  //   this.state.page += val;\r\n  //   view.renderProducts(this.getProducts, API_URL);\r\n  // }\r\n\r\n}\r\n\r\nexport default new Data();","import { API_URL } from './config.js';\r\nimport view from './view.js';\r\nimport model from './model.js';\r\n\r\n// const testCategory = 'Coffee / Tea';\r\n\r\n// CONTROLLER\r\ndocument.addEventListener('DOMContentLoaded', async () => {\r\n\t// GET INITIAL PRODUCTS\r\n\tconst category = document.querySelector('#category-selector').value;\r\n\r\n\tawait model.loadResults(API_URL, category);\r\n\r\n\tawait view.renderResults(model.state);\r\n\r\n\t// EVENT LISTENERS\r\n\tdocument.querySelector('#category-selector').addEventListener('change', async (e) => {\r\n\t\tconst selection = e.target.value;\r\n\r\n\t\tawait model.loadResults(API_URL, selection);\r\n\r\n\t\tmodel.state.page = 1;\r\n\r\n\t\t// switch(selection) {\r\n\t\t// \tcase 'Cocktail':\r\n\t\t// \t\tdocument.querySelector('.drink-wrapper').style.backgroundColor = 'palegreen';\r\n\t\t// \t\tbreak;\r\n\t\t// \tcase 'Ordinary Drink':\r\n\t\t// \t\tdocument.querySelector('.drink-wrapper').style.backgroundColor = 'paleTurquoise';\r\n\t\t// \t\tbreak;\r\n\t\t// \tcase 'Milk / Float / Shake':\r\n\t\t// \t\tdocument.querySelector('.drink-wrapper').style.backgroundColor = 'lightpink';\r\n\t\t// \t\tbreak;\r\n\t\t// }\r\n\r\n\t\tawait view.renderResults(model.state);\r\n\t});\r\n\t\r\n\tdocument.querySelector('#drinks-container').addEventListener('click', view.handleCarouselClick.bind(view));\r\n\tdocument.querySelector('.modal-wrapper').addEventListener('click', view.closeModal);\r\n\tdocument.querySelector('#search-bar').addEventListener('input', view.searchQuery.bind(view));\r\n});"]}